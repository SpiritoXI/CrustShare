# CrustShare

<div align="center">

![CrustShare Logo](./public/icon.png)

**å»ä¸­å¿ƒåŒ–æ–‡ä»¶å­˜å‚¨å¹³å°**

åŸºäº Crust Network å’Œ IPFS çš„å®‰å…¨ã€ç§æœ‰ã€å»ä¸­å¿ƒåŒ–æ–‡ä»¶å­˜å‚¨è§£å†³æ–¹æ¡ˆ

[æ¼”ç¤º](#) Â· [æ–‡æ¡£](#æ–‡æ¡£) Â· [è´¡çŒ®](#è´¡çŒ®)

</div>

---

## âœ¨ ç‰¹æ€§

- ğŸŒ **å»ä¸­å¿ƒåŒ–å­˜å‚¨** - åŸºäº Crust Network å’Œ IPFS æŠ€æœ¯
- âš¡ **ç›´è¿ä¸Šä¼ ** - ç›´æ¥è¿æ¥ CrustFiles.ioï¼Œç»•è¿‡ Vercel é™åˆ¶ï¼Œæ”¯æŒå¤§æ–‡ä»¶ä¸Šä¼ 
- ğŸŒ‰ **å¤šç½‘å…³ä¸‹è½½** - æ™ºèƒ½è°ƒåº¦å¤šä¸ª IPFS ç½‘å…³ï¼Œé«˜å¯ç”¨ä¸‹è½½
- ğŸ“ **æ–‡ä»¶å¤¹ç®¡ç†** - æ”¯æŒæ–‡ä»¶å¤¹å±‚çº§å’ŒåµŒå¥—
- ğŸ·ï¸ **æ ‡ç­¾ç³»ç»Ÿ** - çµæ´»çš„æ–‡ä»¶æ ‡ç­¾åˆ†ç±»
- ğŸ“œ **ç‰ˆæœ¬æ§åˆ¶** - æ–‡ä»¶ç‰ˆæœ¬å†å²å’Œæ¢å¤
- ğŸ“± **å“åº”å¼è®¾è®¡** - å®Œç¾é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸ‘ï¸ **æ–‡ä»¶é¢„è§ˆ** - æ”¯æŒå›¾ç‰‡ã€è§†é¢‘ã€éŸ³é¢‘ç­‰æ ¼å¼é¢„è§ˆ
- ğŸ¨ **ä¼˜é›… UI** - æ·¡é›…æ°´æ™¶é£æ ¼ï¼Œæä¾›è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ
- ğŸ’¾ **æœ¬åœ°ç¼“å­˜** - æ™ºèƒ½ç¼“å­˜æœºåˆ¶ï¼Œæå‡æ€§èƒ½
- ğŸ”„ **æ•…éšœåˆ‡æ¢** - ç½‘å…³è‡ªåŠ¨æ•…éšœåˆ‡æ¢ï¼Œä¿éšœä¸‹è½½ç¨³å®š
- ğŸ“Š **çŠ¶æ€ç›‘æ§** - å®æ—¶ç›‘æ§ç½‘å…³çŠ¶æ€å’Œå¥åº·åº¦
- ğŸ”’ **å®‰å…¨è®¤è¯** - åŸºäºè‡ªå®šä¹‰å¯†ç çš„è®¤è¯ç³»ç»Ÿ
- ğŸ“¦ **å¤§æ–‡ä»¶æ”¯æŒ** - æ”¯æŒæœ€å¤§ 100MB æ–‡ä»¶ä¸Šä¼ ï¼ˆç›´è¿æ¨¡å¼ï¼‰

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 24+
- pnpm åŒ…ç®¡ç†å™¨

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/SpiritoXI/crustshare.git
cd crustshare

# å®‰è£…ä¾èµ–
pnpm install
```

### é…ç½®ç¯å¢ƒå˜é‡

#### æ–¹å¼ä¸€ï¼šåº”ç”¨å†…é…ç½®ï¼ˆæ¨èï¼‰

ç›´æ¥åœ¨åº”ç”¨ç•Œé¢é…ç½®ï¼š

1. å¯åŠ¨åº”ç”¨åï¼Œç‚¹å‡»å³ä¸Šè§’çš„è®¾ç½®å›¾æ ‡ï¼ˆâš™ï¸ï¼‰
2. ç‚¹å‡»"é…ç½® Access Token"
3. è¾“å…¥æ‚¨çš„ CrustFiles.io Access Token
4. Token ä¼šä¿å­˜åˆ°æµè§ˆå™¨çš„ localStorage ä¸­

**å¦‚ä½•è·å– Access Token**ï¼š
1. è®¿é—® [CrustFiles.io](https://crustfiles.io/)
2. æ³¨å†Œæˆ–ç™»å½•æ‚¨çš„è´¦æˆ·
3. åœ¨ç”¨æˆ·è®¾ç½®ä¸­æ‰¾åˆ° API Access Token
4. å¤åˆ¶ Token å¹¶ç²˜è´´åˆ°é…ç½®å¯¹è¯æ¡†ä¸­

#### æ–¹å¼äºŒï¼šç¯å¢ƒå˜é‡é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœè¦ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®ï¼Œå¯ä»¥åˆ›å»º `.env` æ–‡ä»¶ï¼š

```bash
cp .env.example .env
```

ç„¶åç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œé…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# PIN ç é…ç½®ï¼ˆç”¨äºç”¨æˆ·è®¤è¯ï¼‰
# é»˜è®¤ PIN ç ï¼š123456
PIN_CODE=123456

# CrustFiles.io é…ç½®ï¼ˆå¯é€‰ï¼Œç”¨äºä»£ç†æ¨¡å¼ï¼‰
CRUSTFILES_ACCESS_TOKEN=your_crustfiles_access_token_here
CRUSTFILES_BASE_URL=https://crustfiles.io

# Upstash Redis é…ç½®ï¼ˆå¯é€‰ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒä¼šè¯ç®¡ç†ï¼‰
UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token
```

**PIN ç è¯´æ˜**ï¼š
- é»˜è®¤ PIN ç ï¼š`123456`
- å»ºè®®ï¼šä½¿ç”¨ 4-6 ä½æ•°å­—ï¼Œæ˜“äºè®°å¿†
- ä¿®æ”¹ï¼šåœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½® `PIN_CODE`

**ç›´è¿ä¸Šä¼ è¯´æ˜**ï¼š
- åº”ç”¨ä½¿ç”¨ç›´è¿æ¨¡å¼ä¸Šä¼ æ–‡ä»¶åˆ° CrustFiles.io
- æ”¯æŒæœ€å¤§ 100MB æ–‡ä»¶ä¸Šä¼ 
- éœ€è¦é…ç½® Access Tokenï¼ˆåœ¨åº”ç”¨ç•Œé¢é…ç½®ï¼‰
- ä¸å— Vercel è¯·æ±‚ä½“å¤§å°é™åˆ¶

### å¼€å‘

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev

# è®¿é—® http://localhost:5000
```

### æ„å»º

```bash
# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
pnpm build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
pnpm start
```

---

## ğŸ“– æ–‡æ¡£

### é¡¹ç›®ç»“æ„

```
crustshare/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/          # è®¤è¯ API
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ login/     # ç™»å½•æ¥å£
â”‚   â”‚   â”‚   â””â”€â”€ crust/         # Crust Network API
â”‚   â”‚   â”‚       â”œâ”€â”€ status/    # å­˜å‚¨çŠ¶æ€
â”‚   â”‚   â”‚       â”œâ”€â”€ storage/   # å­˜å‚¨ç®¡ç†
â”‚   â”‚   â”‚       â””â”€â”€ upload/    # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ login/             # ç™»å½•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ dashboard/         # ä¸»ä»ªè¡¨æ¿
â”‚   â”‚   â””â”€â”€ globals.css        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ components/            # React ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/               # shadcn/ui åŸºç¡€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.tsx     # ä¸»ä»ªè¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ FileList.tsx      # æ–‡ä»¶åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ FileUpload.tsx    # æ–‡ä»¶ä¸Šä¼ 
â”‚   â”‚   â”œâ”€â”€ FolderTree.tsx    # æ–‡ä»¶å¤¹æ ‘
â”‚   â”‚   â”œâ”€â”€ TagManager.tsx    # æ ‡ç­¾ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ VersionHistory.tsx # ç‰ˆæœ¬å†å²
â”‚   â”‚   â””â”€â”€ LoginPage.tsx     # ç™»å½•é¡µé¢
â”‚   â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”‚   â”œâ”€â”€ auth.ts           # è®¤è¯å·¥å…·ï¼ˆå¯†ç å“ˆå¸Œï¼‰
â”‚   â”‚   â”œâ”€â”€ redis.ts          # Redis å®¢æˆ·ç«¯ï¼ˆä¼šè¯ç®¡ç†ï¼‰
â”‚   â”‚   â”œâ”€â”€ crust.ts          # Crust Network å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ cache.ts          # ç¼“å­˜å·¥å…·
â”‚   â”œâ”€â”€ store/                 # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ useStore.ts       # Zustand çŠ¶æ€
â”‚   â””â”€â”€ hooks/                 # è‡ªå®šä¹‰ Hooks
â”œâ”€â”€ public/                    # é™æ€èµ„æº
â”œâ”€â”€ scripts/                   # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ generate-config.js    # é…ç½®ç”Ÿæˆè„šæœ¬
â”œâ”€â”€ .coze                      # Coze CLI é…ç½®
â”œâ”€â”€ .env                       # ç¯å¢ƒå˜é‡ï¼ˆä¸æäº¤ï¼‰
â”œâ”€â”€ .env.example               # ç¯å¢ƒå˜é‡æ¨¡æ¿
â””â”€â”€ package.json              # é¡¹ç›®é…ç½®
```

### æ ¸å¿ƒåŠŸèƒ½

#### 1. ç”¨æˆ·è®¤è¯

åŸºäº PIN ç çš„è®¤è¯ç³»ç»Ÿï¼š

```typescript
// ç™»å½•éªŒè¯
const response = await fetch('/api/auth/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    pin: '123456'
  })
});
```

- **PIN ç è®¤è¯**ï¼šç®€å•æ˜“è®°çš„ 4-6 ä½æ•°å­—
- **ä¼šè¯å­˜å‚¨**ï¼šlocalStorage
- **å•ç”¨æˆ·æ¨¡å¼**ï¼šç®€åŒ–è®¤è¯ï¼Œæ— éœ€è§’è‰²ç®¡ç†

#### 2. CrustFiles.io ä»£ç†ï¼ˆæ­£å‘ä»£ç†ï¼‰

å®Œæ•´çš„ CrustFiles.io æ­£å‘ä»£ç†åŠŸèƒ½ï¼Œæ— éœ€ç›´æ¥è·¨åŸŸè¯·æ±‚ï¼š

```typescript
import { getProxy } from '@/lib/proxy';

// åˆ›å»ºä»£ç†å®ä¾‹
const proxy = getProxy('your-auth-token');

// ä¸Šä¼ æ–‡ä»¶
const result = await proxy.upload(file, {
  onProgress: (progress) => {
    console.log(`${progress.percentage}%`);
  }
});

// ä¸‹è½½æ–‡ä»¶
const blob = await proxy.downloadFile(cid, 'filename.pdf');

// è·å–æ–‡ä»¶ä¿¡æ¯
const info = await proxy.getFileInfo(cid);

// è‡ªå®šä¹‰ API è°ƒç”¨
const response = await proxy.get('/api/v0/version');
```

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- âœ… å®Œæ•´é€ä¼ æ‰€æœ‰ HTTP æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETEã€PATCHï¼‰
- âœ… å®Œæ•´é€ä¼ è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ï¼ˆåŒ…æ‹¬æ–‡ä»¶æµï¼‰
- âœ… å®Œæ•´é€ä¼ å“åº”ï¼ˆçŠ¶æ€ç ã€å“åº”å¤´ã€å“åº”ä½“ï¼‰
- âœ… ä¿æŒé‰´æƒçŠ¶æ€ï¼ˆCookieã€Sessionã€Tokenï¼‰
- âœ… æ”¯æŒå®æ—¶ä¸Šä¼ è¿›åº¦
- âœ… æ”¯æŒå•æ–‡ä»¶å’Œå¤šæ–‡ä»¶ä¸Šä¼ 
- âœ… å®Œå…¨å…¼å®¹ CrustFiles.io åŸç”Ÿ API

è¯¦ç»†æ–‡æ¡£ï¼š[ä»£ç†åŠŸèƒ½æ–‡æ¡£](./PROXY.md)

#### 3. ç¬¬ä¸‰æ–¹ç½‘å…³ä¸‹è½½ï¼ˆä¸ä¸Šä¼ é“¾è·¯è§£è€¦ï¼‰

é€šè¿‡å¤šä¸ªç¬¬ä¸‰æ–¹ IPFS ç½‘å…³æ™ºèƒ½è°ƒåº¦ä¸‹è½½ï¼Œä¸ CrustFiles.io åŸç”Ÿé€šé“å®Œå…¨è§£è€¦ï¼š

```typescript
// è·å–ä¸‹è½½ URLï¼ˆè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç½‘å…³ï¼‰
const response = await fetch(`/api/download?fileId=${fileId}&cid=${cid}`);
const data = await response.json();
// data.downloadUrl: https://ipfs.io/ipfs/Qm...
// data.gatewayId: ipfs-io

// è§¦å‘ä¸‹è½½
const link = document.createElement('a');
link.href = data.downloadUrl;
link.download = fileName;
link.click();

// åˆ‡æ¢ç½‘å…³ï¼ˆæ•…éšœåˆ‡æ¢ï¼‰
const retryResponse = await fetch('/api/download', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ fileId, cid }),
});
const retryData = await retryResponse.json();
// è‡ªåŠ¨é€‰æ‹©å¤‡ç”¨ç½‘å…³
```

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- âœ… å¤šç½‘å…³æ™ºèƒ½è°ƒåº¦ï¼ˆè‡ªåŠ¨é€‰æ‹©æœ€ä¼˜ç½‘å…³ï¼‰
- âœ… å®æ—¶å¥åº·æ£€æµ‹ï¼ˆ20 ç§’æ£€æµ‹ä¸€æ¬¡ï¼‰
- âœ… è‡ªåŠ¨æ•…éšœåˆ‡æ¢ï¼ˆç½‘å…³ä¸å¯ç”¨æ—¶è‡ªåŠ¨åˆ‡æ¢ï¼‰
- âœ… ç½‘å…³çŠ¶æ€ç›‘æ§ï¼ˆå“åº”æ—¶é—´ã€æˆåŠŸç‡ï¼‰
- âœ… çŠ¶æ€ç¼“å­˜æœºåˆ¶ï¼ˆå‡å°‘æ£€æµ‹é¢‘æ¬¡ï¼‰
- âœ… å®Œæ•´æ—¥å¿—è®°å½•ï¼ˆä¸Šä¼ ã€ä¸‹è½½ã€ç½‘å…³æ£€æµ‹ï¼‰

**é»˜è®¤ç½‘å…³åˆ—è¡¨**ï¼š
1. IPFS.io Gateway (https://ipfs.io) - ä¼˜å…ˆçº§ 1
2. dweb.link Gateway (https://dweb.link) - ä¼˜å…ˆçº§ 2
3. Cloudflare IPFS Gateway (https://cloudflare-ipfs.com) - ä¼˜å…ˆçº§ 3
4. JBO ETH Limo Gateway (https://jbo-eth.limo) - ä¼˜å…ˆçº§ 4
5. NFTStorage Gateway (https://nftstorage.link) - ä¼˜å…ˆçº§ 5
6. CrustFiles.io Gateway (https://crustfiles.io) - ä¼˜å…ˆçº§ 10ï¼ˆå¤‡ç”¨ï¼‰

è¯¦ç»†æ–‡æ¡£ï¼š[ç½‘å…³åŠŸèƒ½æ–‡æ¡£](./GATEWAY.md)

#### 4. æ–‡ä»¶ä¸Šä¼ 

å®Œæ•´çš„ CrustFiles.io æ­£å‘ä»£ç†åŠŸèƒ½ï¼Œæ— éœ€ç›´æ¥è·¨åŸŸè¯·æ±‚ï¼š

```typescript
import { getProxy } from '@/lib/proxy';

// åˆ›å»ºä»£ç†å®ä¾‹
const proxy = getProxy('your-auth-token');

// ä¸Šä¼ æ–‡ä»¶
const result = await proxy.upload(file, {
  onProgress: (progress) => {
    console.log(`${progress.percentage}%`);
  }
});

// ä¸‹è½½æ–‡ä»¶
const blob = await proxy.downloadFile(cid, 'filename.pdf');

// è·å–æ–‡ä»¶ä¿¡æ¯
const info = await proxy.getFileInfo(cid);

// è‡ªå®šä¹‰ API è°ƒç”¨
const response = await proxy.get('/api/v0/version');
```

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- âœ… å®Œæ•´é€ä¼ æ‰€æœ‰ HTTP æ–¹æ³•ï¼ˆGETã€POSTã€PUTã€DELETEã€PATCHï¼‰
- âœ… å®Œæ•´é€ä¼ è¯·æ±‚å¤´å’Œè¯·æ±‚ä½“ï¼ˆåŒ…æ‹¬æ–‡ä»¶æµï¼‰
- âœ… å®Œæ•´é€ä¼ å“åº”ï¼ˆçŠ¶æ€ç ã€å“åº”å¤´ã€å“åº”ä½“ï¼‰
- âœ… ä¿æŒé‰´æƒçŠ¶æ€ï¼ˆCookieã€Sessionã€Tokenï¼‰
- âœ… æ”¯æŒå®æ—¶ä¸Šä¼ è¿›åº¦
- âœ… æ”¯æŒå•æ–‡ä»¶å’Œå¤šæ–‡ä»¶ä¸Šä¼ 
- âœ… å®Œå…¨å…¼å®¹ CrustFiles.io åŸç”Ÿ API

è¯¦ç»†æ–‡æ¡£ï¼š[ä»£ç†åŠŸèƒ½æ–‡æ¡£](./PROXY.md)

#### 3. æ–‡ä»¶ä¸Šä¼ 

æ–‡ä»¶ä¸Šä¼ åˆ° Crust Network/IPFSï¼š

```typescript
// è‡ªåŠ¨åˆ†é… CID
const cid = await crustClient.uploadFile(
  fileBuffer,
  fileName,
  fileSize
);
```

#### 2. æ–‡ä»¶ä¸‹è½½

é€šè¿‡ IPFS ç½‘å…³ä¸‹è½½æ–‡ä»¶ï¼š

```typescript
// ä» IPFS ç½‘å…³ä¸‹è½½
const ipfsGateway = `https://ipfs.io/ipfs/${cid}`;
const response = await fetch(ipfsGateway);
```

#### 3. æƒé™ç®¡ç†

æ”¯æŒå››ç§æƒé™ç±»å‹ï¼š

```typescript
enum PermissionType {
  READ = 'read',      // æŸ¥çœ‹æƒé™
  WRITE = 'write',    // ç¼–è¾‘æƒé™
  DELETE = 'delete',  // åˆ é™¤æƒé™
  SHARE = 'share',    // åˆ†äº«æƒé™
}
```

#### 4. ç‰ˆæœ¬æ§åˆ¶

æ–‡ä»¶ç‰ˆæœ¬ç®¡ç†ï¼š

```typescript
// åˆ›å»ºæ–°ç‰ˆæœ¬
addVersion(fileId, {
  id: 'version-xxx',
  version: 2,
  cid: 'Qmxxx...',
  size: fileSize,
  uploadDate: new Date().toISOString(),
});

// æ¢å¤æ—§ç‰ˆæœ¬
restoreVersion(fileId, 1);
```

---

## ğŸ—ï¸ éƒ¨ç½²

### æ–¹å¼ä¸€ï¼šä½¿ç”¨ Coze CLI

```bash
# æ„å»ºé¡¹ç›®
pnpm build

# ä½¿ç”¨ Coze CLI éƒ¨ç½²
coze deploy
```

### æ–¹å¼äºŒï¼šDocker éƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t crustshare .

# è¿è¡Œå®¹å™¨
docker run -p 5000:5000 crustshare
```

### æ–¹å¼ä¸‰ï¼šVercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

ğŸ‘‰ **è¯¦ç»†éƒ¨ç½²æŒ‡å—ï¼š** [Vercel éƒ¨ç½²æ–‡æ¡£](./docs/VERCEL_DEPLOYMENT.md)

å¿«é€Ÿå¼€å§‹ï¼š

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ [Vercel](https://vercel.com) ä¸­å¯¼å…¥é¡¹ç›®
3. **å…³é”®æ­¥éª¤**ï¼šåœ¨ Project Settings â†’ Environment Variables ä¸­æ·»åŠ ï¼š
   - `PIN_CODE`ï¼ˆå¿…é¡»ï¼‰- è®¾ç½®ä½ çš„ PIN ç 
   - `CRUSTFILES_ACCESS_TOKEN`ï¼ˆå¯é€‰ï¼‰- æ–‡ä»¶ä¸Šä¼ åŠŸèƒ½éœ€è¦
   - `CRUSTFILES_BASE_URL`ï¼ˆå¯é€‰ï¼‰- é»˜è®¤ä¸º `https://crustfiles.io`
4. **é‡è¦**ï¼šæ·»åŠ ç¯å¢ƒå˜é‡åï¼Œå¿…é¡»é‡æ–°éƒ¨ç½²æ‰èƒ½ç”Ÿæ•ˆ
5. éƒ¨ç½²å®Œæˆåå³å¯è®¿é—®

**å¸¸è§é—®é¢˜**ï¼š
- å¦‚æœç™»å½•å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç¯å¢ƒå˜é‡ `PIN_CODE` æ˜¯å¦å·²æ­£ç¡®é…ç½®
- ç¯å¢ƒå˜é‡ä¿®æ”¹åéœ€è¦æ‰‹åŠ¨é‡æ–°éƒ¨ç½²ï¼ˆRedeployï¼‰
- è¯¦è§ [Vercel éƒ¨ç½²æŒ‡å—](./docs/VERCEL_DEPLOYMENT.md#å¸¸è§é—®é¢˜æ’æŸ¥)

### ç¯å¢ƒå˜é‡

```env
# PIN ç é…ç½®ï¼ˆå¿…é¡»ï¼‰
PIN_CODE=123456

# CrustFiles.io é…ç½®ï¼ˆå¿…é¡»ï¼‰
CRUSTFILES_ACCESS_TOKEN=your_crustfiles_access_token_here
CRUSTFILES_BASE_URL=https://crustfiles.io

# Upstash Redis é…ç½®ï¼ˆå¯é€‰ï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒä¼šè¯ç®¡ç†ï¼‰
UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token
```

**é…ç½®è¯´æ˜**ï¼š

1. **PIN ç **ï¼šå¿…é¡»é…ç½®ã€‚å»ºè®®ä½¿ç”¨ 4-6 ä½æ•°å­—ï¼Œé»˜è®¤ä¸º `123456`ã€‚
2. **CrustFiles.io**ï¼šå¿…é¡»é…ç½®ã€‚è®¿é—® [CrustFiles.io](https://crustfiles.io/) è·å– Access Tokenã€‚
3. **Upstash Redis**ï¼šç”¨äºä¼šè¯ç®¡ç†å’Œæ–‡ä»¶å…ƒæ•°æ®æŒä¹…åŒ–ã€‚å¦‚æœæœªé…ç½®ï¼Œå°†ä½¿ç”¨ localStorageï¼ˆä»…é€‚ç”¨äºå¼€å‘/å•ç”¨æˆ·åœºæ™¯ï¼‰ã€‚

---

## ğŸ”§ æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 16 (App Router)
- **è¯­è¨€**: TypeScript 5
- **UI åº“**: shadcn/ui (åŸºäº Radix UI)
- **æ ·å¼**: Tailwind CSS 4
- **çŠ¶æ€ç®¡ç†**: Zustand
- **å›¾æ ‡**: Lucide React
- **é€šçŸ¥**: Sonner
- **å­˜å‚¨**: Crust Network / IPFS
- **CLI**: Coze CLI

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…ã€‚

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [Crust Network](https://crust.network/)
- [IPFS](https://ipfs.io/)
- [Next.js](https://nextjs.org/)
- [shadcn/ui](https://ui.shadcn.com/)
- [Tailwind CSS](https://tailwindcss.com/)

### æ–‡æ¡£

- [API æ–‡æ¡£](./API.md) - å®Œæ•´çš„ API æ¥å£æ–‡æ¡£
- [éƒ¨ç½²æ–‡æ¡£](./DEPLOYMENT.md) - éƒ¨ç½²æŒ‡å—å’Œæ•…éšœæ’é™¤
- [æ›´æ–°æ—¥å¿—](./CHANGELOG.md) - ç‰ˆæœ¬æ›´æ–°å†å²
- [è´¡çŒ®æŒ‡å—](./CONTRIBUTING.md) - å¦‚ä½•è´¡çŒ®ä»£ç 
- [å®‰å…¨æ”¿ç­–](./SECURITY.md) - å®‰å…¨æ¼æ´æŠ¥å‘Šæµç¨‹

---

## â“ å¸¸è§é—®é¢˜

### 1. å¦‚ä½•ä¿®æ”¹å¯†ç ï¼Ÿ

ä½¿ç”¨é…ç½®ç”Ÿæˆè„šæœ¬ï¼š

```bash
node scripts/generate-config.js
```

æˆ–æ‰‹åŠ¨ç”Ÿæˆå“ˆå¸Œï¼š

```bash
echo -n "new_password" | sha256sum
```

ç„¶åå°†å“ˆå¸Œå€¼æ›´æ–°åˆ° `.env` æ–‡ä»¶ä¸­çš„ `PASSWORD_HASH` æˆ– `ADMIN_PASSWORD_HASH`ã€‚

### 2. å¦‚ä½•é…ç½® Upstash Redisï¼Ÿ

1. è®¿é—® [Upstash Console](https://console.upstash.com/)
2. åˆ›å»ºæ–°çš„ Redis æ•°æ®åº“
3. å¤åˆ¶ REST URL å’Œ Token
4. æ›´æ–°åˆ° `.env` æ–‡ä»¶ï¼š

```env
UPSTASH_REDIS_REST_URL=https://your-redis-url.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-redis-token
```

### 3. é»˜è®¤å¯†ç æ˜¯ä»€ä¹ˆï¼Ÿ

- **ç”¨æˆ·å¯†ç **: `crustshare`
- **ç®¡ç†å‘˜å¯†ç **: `admin`

**å®‰å…¨æç¤º**ï¼šç”Ÿäº§ç¯å¢ƒè¯·åŠ¡å¿…ä¿®æ”¹é»˜è®¤å¯†ç ï¼

### 4. æ–‡ä»¶ä¸Šä¼ å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤ç½‘ç»œè¿æ¥æ­£å¸¸
2. æ£€æŸ¥æ–‡ä»¶å¤§å°æ˜¯å¦è¶…è¿‡é™åˆ¶
3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
4. ç¡®è®¤ Crust Network æœåŠ¡çŠ¶æ€

### 5. å¦‚ä½•é‡ç½®é…ç½®ï¼Ÿ

åˆ é™¤ `.env` æ–‡ä»¶ï¼Œç„¶åé‡æ–°ç”Ÿæˆï¼š

```bash
rm .env
node scripts/generate-config.js
```

### 6. ä¼šè¯è¿‡æœŸæ—¶é—´æ˜¯å¤šå°‘ï¼Ÿ

é»˜è®¤ä¼šè¯æ—¶é•¿ä¸º 24 å°æ—¶ã€‚å¯ä»¥åœ¨ä»£ç ä¸­ä¿®æ”¹ `sessionManager.create()` çš„ TTL å‚æ•°ã€‚

### 7. æ˜¯å¦æ”¯æŒå¤šç”¨æˆ·ï¼Ÿ

å½“å‰ç‰ˆæœ¬æ”¯æŒå•ç”¨æˆ·å’Œç®¡ç†å‘˜ä¸¤ç§è§’è‰²ã€‚å¤šç”¨æˆ·æ”¯æŒè®¡åˆ’åœ¨æœªæ¥ç‰ˆæœ¬ä¸­æ·»åŠ ã€‚

### 8. æ–‡ä»¶å­˜å‚¨åœ¨å“ªé‡Œï¼Ÿ

æ–‡ä»¶é€šè¿‡ Crust Network ä¸Šä¼ åˆ° IPFS åˆ†å¸ƒå¼å­˜å‚¨ç½‘ç»œï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š
- å»ä¸­å¿ƒåŒ–å­˜å‚¨
- å†…å®¹å¯»å€ï¼ˆCIDï¼‰
- æ°¸ä¹…å¯ç”¨
- å…¨çƒåˆ†å¸ƒå¼èŠ‚ç‚¹

---

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·ï¼š

- æäº¤ [Issue](../../issues)
- å‘é€é‚®ä»¶è‡³: support@crustshare.com

---

<div align="center">

Made with â¤ï¸ by CrustShare Team

</div>
